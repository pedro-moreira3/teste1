<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml"
	xmlns:pe="http://primefaces.org/ui/extensions">
	<ui:define name="content">
		<div class="ui-g ui-fluid">
			<div class="ui-g-12 ui-lg-12">
				<div class="card card-w-title">
					<h1>Ajuste de contas</h1>
					<p:separator styleClass="SeparatorFull" />

					<p:fieldset id="filtroAjuste" header="Filtro" toggleable="false"
						toggleSpeed="500">
						<p:panelGrid columns="3" layout="grid"
							styleClass="ui-panelgrid-blank ui-fluid form-group">

							<h:panelGroup styleClass="md-combo">
								<h:outputText for="filtroPeriodo"
									value="Período de criação do procedimento:" />
								<p:selectOneMenu id="filtroPeriodo"
									value="#{ajusteContasMB.filtroPeriodo}">

									<p:ajax process="@this" update="dataInicial, dataFinal"
										listener="#{ajusteContasMB.actionTrocaDatasCriacao}" />

									<f:selectItem itemValue="" itemLabel="Selecione" />
									<f:selectItem itemValue="O" itemLabel="Ontem" />
									<f:selectItem itemValue="H" itemLabel="Hoje" />
									<f:selectItem itemValue="M" itemLabel="Mês Atual" />
									<f:selectItem itemValue="S" itemLabel="Últimos 7 dias" />
									<f:selectItem itemValue="Q" itemLabel="Últimos 15 dias" />
									<f:selectItem itemValue="T" itemLabel="Últimos 30 dias" />
									<f:selectItem itemValue="I" itemLabel="Últimos 6 meses" />
								</p:selectOneMenu>
							</h:panelGroup>

							<h:panelGroup styleClass="md-inputfield taller">
								<h:outputText for="dataInicial"
									value="Data de criação do procedimento de:" />
								<p:calendar id="dataInicial"
									value="#{ajusteContasMB.dataInicio}" />
							</h:panelGroup>

							<h:panelGroup styleClass="md-inputfield taller">
								<h:outputText for="dataFinal"
									value="Data de criação do procedimento até:" />
								<p:calendar id="dataFinal" value="#{ajusteContasMB.dataFim}" />
							</h:panelGroup>

						</p:panelGrid>
					</p:fieldset>
					<br />

					<p:dataTable filterDelay="1500" reflow="true"
						emptyMessage="Nenhum registro encontrado"
						id="dtPrincipalPacientes" value="#{ajusteContasMB.entityList}"
						var="ajuste" rows="10" paginator="true" rowKey="#{ajuste}"
						paginatorPosition="bottom" widgetVar="dtPrincipalAjustes"
						binding="#{ajusteContasMB.tabelaAjustes}">
						<f:facet name="header">Ajuste de Contas</f:facet>

						<p:column headerText="Valor" filterBy="#{ajuste.valor}"
							sortBy="#{ajuste.valor}">
							<h:outputText value="#{ajuste.valor}">
								<f:convertNumber currencySymbol="R$" type="currency"
									maxFractionDigits="2" />
							</h:outputText>
						</p:column>

						<p:column headerText="Tipo"
							filterBy="#{ajuste.tipoPagamento.descricao}"
							sortBy="#{ajuste.tipoPagamento.descricao}">
							<h:outputText value="#{ajuste.tipoPagamento.descricao}" />
						</p:column>

						<p:column headerText="Status"
							filterBy="#{ajuste.status.descricao}"
							sortBy="#{ajuste.status.descricao}">
							<h:outputText value="#{ajuste.status.descricao}" />
						</p:column>

						<p:column headerText="Data de Criação"
							filterBy="#{ajuste.dataCriacao}" sortBy="#{ajuste.dataCriacao}">
							<h:outputText value="#{ajuste.dataCriacao}">
								<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
							</h:outputText>
						</p:column>

					</p:dataTable>

				</div>
			</div>
		</div>
	</ui:define>
</ui:composition>
