<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<style>
.centerH {
	position: absolute;
	left: 50%;
	transform: translateX(-50%);
}

.hrSaldo {
	width: 90%;
	top: 50px;
}

hr.hrSaldo {
	border: 0;
	height: 0;
	border-top: 1px solid rgba(0, 0, 0, 0.1);
	border-bottom: 1px solid rgba(255, 255, 255, 0.3);
}

.divSaldo {
	width: 300px;
	height: 100px;
	background-color: white;
	text-align: center;
	line-height: 100px;
	font-size: 3rem;
	font-weight: bold;
}

.divSaldoHeader {
	width: 100%;
	height: 30px;
	line-height: 30px;
	text-align: center;
	font-size: 1rem;
	color: black !important;
	font-weight: normal !important;
}
</style>

	<ui:include src="faturaView.xhtml" />

	<br />
	<div style="position: relative; width: 100%; height: 100px;">
		<hr class="centerH hrSaldo" />
		<div class="centerH divSaldo"
			style="color: #{faturaPagtoMB.saldoPaciente eq 0 ? 'blue' : faturaPagtoMB.saldoPaciente lt 0 ? 'red' : 'green'}">
			<div class="centerH divSaldoHeader">Saldo Atual</div>
			<h:outputText value="#{faturaPagtoMB.saldoPaciente}">
				<f:convertNumber currencySymbol="R$ " type="currency" />
			</h:outputText>
		</div>
	</div>
	<p:dataTable filterDelay="1500" reflow="true" emptyMessage=""
		id="dtPrincipal" value="#{faturaPagtoMB.entityList}" var="f" rows="10"
		paginator="true" rowKey="#{f}" paginatorPosition="bottom">
		<f:facet name="header">Faturas</f:facet>
		<p:column width="120" headerText="Detalhes">
			<p:commandButton icon="fa fa-eye" process="@this"
				actionListener="#{faturaPagtoMB.visualizaFatura(f)}"
				update="@parent:@parent:@parent:pnlfaturaView, @parent:@parent:@parent:pnlfaturaViewHeader, @parent:@parent:@parent:buttonViewFatura"
				onclick="PF('dlgFaturaView').show();" styleClass="NavyButton"
				title="Visualizar Fatura" />
		</p:column>
		<p:column filterBy="#{f.paciente.dadosBasico.nomeStr}"
			sortBy="#{f.paciente.dadosBasico.nome}" filterMatchMode="contains">
			<f:facet name="header">
				<h:outputText value="Paciente" />
			</f:facet>
			<h:outputText value="#{f.paciente.dadosBasico.nome}" />
		</p:column>
		<p:column filterBy="#{f.dataCriacaoStr}" headerText="Data de Criação"
			filterMatchMode="contains" sortBy="#{f.dataCriacaoStr}">
			<h:outputText value="#{f.dataCriacaoStr}" />
		</p:column>

		<p:column filterBy="#{faturaPagtoMB.getTotal(f)}"
			headerText="Valor total da fatura" filterMatchMode="contains"
			sortBy="#{faturaPagtoMB.getTotal(f)}">
			<h:outputText value="#{faturaPagtoMB.getTotal(f)}">
				<f:convertNumber currencySymbol="R$ " type="currency" />
			</h:outputText>
		</p:column>

	</p:dataTable>

</ui:composition>