<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml" xmlns:pe="http://primefaces.org/ui/extensions">
    <ui:define name="content">
        <style>
.ui-picklist .ui-picklist-list {
    height: 100px;
}

.fc-time-grid-container {
    height: auto !important;
}

.ui-growl {
    z-index: 999999 !important;
}

.ui-dialog {
    overflow: auto !important;
}

div.ui-selectoneradio label {
    width: auto !important;
}
.labelInlineParent {
	padding-top: 0px !important;
	padding-bottom: 20px !important;
}

.labelInline label {
	display: inline !important;
}

.ui-dialog {
	overflow: auto !important;
}

.ui-picklist .ui-picklist-list {
	height: 100px;
}

.fc-time-grid-container {
	height: auto !important;
}

.ui-growl {
	z-index: 999999 !important;
}

div.ui-selectoneradio label {
	width: auto !important;
}

.fc-time-grid-event>.fc-content {
	text-align: left !important;
}

.fc-toolbar {
	padding: 0 !important;
}

.fc .fc-left, .fc .fc-left .fc-button-group, .fc .fc-right .fc-button-group
	{
	display: inline-flex !important;
}

.fc .fc-right .fc-button-group button {
	width: 100px !important;
}

.filtroFirst .ui-panelgrid-cell {
	padding: 0px !important;
}

.filtroFirst .ui-panelgrid-cell:first-child {
	padding-right: 7px !important;
}

.filtroFirst .ui-panelgrid-cell:last-child {
	padding-left: 7px !important;
}

.removeSecondPadding>.ui-panelgrid-content .ui-grid-row .ui-panelgrid-cell:nth-child(1)
	{
	padding-top: 0px !important;
}

.ui-selectmanycheckbox tr td {
	position: relative;
	display: inline-flex !important;
	width: 238px !important
}

.ui-selectmanycheckbox tr td>div>div:last-child {
	display: inline-block;
	position: relative;
	top: 50%;
	transform: translateY(-50%);
}

.ui-selectmanycheckbox tr td label {
	position: relative;
	display: inline-flex !important;
}

.ui-selectmanycheckbox tr td label div:first-child {
	position: relative;
}

.ui-selectmanycheckbox tr td label div:first-child div {
	display: inline-block;
	position: relative;
	top: 50%;
	transform: translateY(-50%);
}

.NoChildPadding>div {
	padding: 0px !important;
}

.ui-fluid .ui-buttonset.ui-buttonset-3 .ui-button {
	width: 33.3% !important;
}

.ggl-tooltip {
  background-color: #ffffff;
  border: 1px solid #e0e0e0;
  font-family: Arial, Helvetica;
  font-size: 14px;
  padding: 8px;
}

.ggl-tooltip span {
  font-weight: bold;
}

.chartCadeiras > div, .chartProfissionais > div {
	max-width: 100%;
	overflow: auto;
	overflow-y: hidden;
}
</style>
        <script>
			function resize(dialog) {
			//'#lume\\:pnAgendamento'
				$(window).resize(function() {
					$(dialog).css({
						'width' : $(window).width(),
						'height' : $(window).height(),
						'left' : '0px',
						'top' : '0px'
					});
				}).resize();
			}
        </script>
        <div	class="ui-g ui-fluid">
			<div	class="ui-g-12 ui-lg-12">
				<div	class="card card-w-title">
					<h1>Relatório de Atendimento</h1>
                    
                    <p:separator styleClass="SeparatorFull" />
                    
                    <p:fieldset	id="filtroRelatorio" header="Filtro"
								toggleable="true" toggleSpeed="500">
							
							<p:panelGrid	columns="1" layout="grid"
											styleClass="ui-panelgrid-blank ui-fluid form-group removeSecondPadding"
											style="border:0px none; background-color:transparent;">
								
								<p:outputPanel>
								
									<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
									
										<h:panelGroup>							
											<h:outputText 	for="dataInicial" value="Data inicial:" />
        									<p:calendar 	id="dataInicial" value="#{relatorioAtendimentoMB.dataInicio}" />
										</h:panelGroup>
        				
        								<h:panelGroup>
        									<h:outputText 	for="dataFinal" value="Data final:" />
        									<p:calendar 	id="dataFinal" value="#{relatorioAtendimentoMB.dataFim}" />
        								</h:panelGroup>
        								
        								<h:panelGroup>
        									<h:outputText 	for="filtroPaciente" value="Paciente:" />
        									<p:autoComplete	id="filtroPaciente" value="#{relatorioAtendimentoMB.filtroPorPaciente}"
        													completeMethod="#{relatorioAtendimentoMB.sugestoesPacientes}"
        													var="p" itemLabel="#{p.dadosBasico.nome}" itemValue="#{p}"
															converter="paciente" forceSelection="true" scrollHeight="400"
															minQueryLength="3" >
												
												<p:ajax	event="itemSelect" listener="#{relatorioAtendimentoMB.popularLista}" update=":lume:dtRelAtendimento"/>
        									</p:autoComplete>
        								</h:panelGroup>
									
									</p:panelGrid>
									
									<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
										
										<h:panelGroup>
        									<h:outputText 	for="filtroProfissional" value="Profissional:" />
        									<p:autoComplete	id="filtroProfissional" value="#{relatorioAtendimentoMB.filtroPorProfissional}"
        													completeMethod="#{relatorioAtendimentoMB.sugestoesProfissionais}"
        													var="p" itemLabel="#{p.dadosBasico.nome}" itemValue="#{p}"
															converter="profissional" forceSelection="true" scrollHeight="400">
															
												<p:ajax	event="itemSelect" listener="#{relatorioAtendimentoMB.popularLista}" update=":lume:dtRelAtendimento"/>
												
												</p:autoComplete>
        								</h:panelGroup>
        								
        								<h:panelGroup>
        									<h:outputText 	for="filtroProfissionalUltAlteracao" value="Ultima alteração realizada por:" />
        									<p:autoComplete	id="filtroProfissionalUltAlteracao" value="#{relatorioAtendimentoMB.filtroPorProfissionalUltAlteracao}" completeMethod="#{relatorioAtendimentoMB.sugestoesProfissionalUltAlteracao}"
        													var="p" itemLabel="#{p.dadosBasico.nome}" itemValue="#{p}"
															converter="profissional" forceSelection="true" scrollHeight="400">
												
												<p:ajax	event="itemSelect" listener="#{relatorioAtendimentoMB.popularLista}" update=":lume:dtRelAtendimento"/>
											</p:autoComplete>
        								</h:panelGroup>
        								
        								<h:panelGroup>
        									<h:outputText 	for="filtroConvenio" value="Convênio:" />
        									<p:autoComplete	id="filtroConvenio" value="#{relatorioAtendimentoMB.filtroPorConvenio}" completeMethod="#{relatorioAtendimentoMB.sugestoesConvenios}"
        													var="p" itemLabel="#{p.dadosBasico.nome}" itemValue="#{p}"
															converter="convenio" forceSelection="true" scrollHeight="400">
															
												<p:ajax	event="itemSelect" listener="#{relatorioAtendimentoMB.popularLista}" update=":lume:dtRelAtendimento"/>
											</p:autoComplete>
        								</h:panelGroup>

									</p:panelGrid>
								
								</p:outputPanel>
								
								<p:outputPanel>
								
									<h:outputLabel	value="Mostrar os agendamentos: " />
									<p:selectManyCheckbox	value="#{relatorioAtendimentoMB.filtroAtendimento}"
															layout="grid" columns="4">
										
										<p:ajax	listener="#{relatorioAtendimentoMB.popularLista}" update=":lume:dtRelAtendimento" />
										
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoAfastamento legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Bloqueio&lt;/div&gt;"
											itemValue="F" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoAtendido legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Atendidos&lt;/div&gt;"
											itemValue="A" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoConsultaInicial legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Consulta Inicial&lt;/div&gt;"
											itemValue="G" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoCancelado legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Cancelados&lt;/div&gt;"
											itemValue="C" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoErroAgendamento legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Erro de Agendamento&lt;/div&gt;"
											itemValue="D" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='clienteNaClinica legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Cliente na Clínica&lt;/div&gt;"
											itemValue="I" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoConfirmado legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Confirmados&lt;/div&gt;"
											itemValue="S" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='emAtendimento legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Em Atendimento&lt;/div&gt;"
											itemValue="O" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoEncaixe legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Encaixe&lt;/div&gt;"
											itemValue="E" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoEncaixeAtendido legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Encaixe Atendido&lt;/div&gt;"
											itemValue="H" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoFalta legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Falta&lt;/div&gt;"
											itemValue="B" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoNaoConfirmado legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Não Confirmado&lt;/div&gt;"
											itemValue="N" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoPrecadastro legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Agendado pelo Paciente&lt;/div&gt;"
											itemValue="P" itemEscaped="false" />
										<f:selectItem
											itemLabel="&lt;div&gt;&lt;div class='agendamentoRemarcado legendaFiltroAgendamento'&gt;&amp;nbsp;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Remarcado&lt;/div&gt;"
											itemValue="R" itemEscaped="false" />
									</p:selectManyCheckbox>

								</p:outputPanel>
								
								<p:outputPanel>
									
									<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
										
										<h:panelGroup>
        									<p:commandButton	value="Pesquisar"  action="#{relatorioAtendimentoMB.popularLista}" update=":lume:dtRelAtendimento"/>
        								</h:panelGroup>
										
									</p:panelGrid>
									
								</p:outputPanel>
							</p:panelGrid>
							
					</p:fieldset>
                    
                    <h:panelGroup>

                    	<p:dataTable	id="dtRelAtendimento" widgetVar="dtRelAtendimento" value="#{relatorioAtendimentoMB.listaAtendimentos}" 
                    					var="atendimento" rowKey="#{atendimento}" rows="10" paginator="true" paginatorPosition="bottom" reflow="true" 
                    					emptyMessage="Nenhum registro encontrado" selection="#{relatorioAtendimentoMB.entity}" selectionMode="single" >
                    		
                    		<f:facet	name="header">Relatório de atendimentos</f:facet>
                    		
                    		<p:column 	filterBy="#{atendimento.paciente.dadosBasico.nome}" sortBy="#{atendimento.paciente.dadosBasico.nome}" 
                    					filterMatchMode="contains" headerText="Paciente" >
                            	<h:outputText value="#{atendimento.paciente.dadosBasico.nome}" />
                        	</p:column>
                        	
                        	<p:column 	filterBy="#{atendimento.profissional.dadosBasico.nome}" sortBy="#{atendimento.profissional.dadosBasico.nome}" 
                        				filterMatchMode="contains" headerText="Profissional responsável">
                            	<h:outputText value="#{atendimento.profissional.dadosBasico.nome}" />
                        	</p:column>
                        	
                        	<p:column 	filterBy="#{atendimento.dataAgendamento}" sortBy="#{atendimento.dataAgendamento}" 
                        				filterMatchMode="contains" headerText="Data do agendamento" >
                            	<h:outputText value="#{relatorioAtendimentoMB.formatarData(atendimento.dataAgendamento)}" />
                        	</p:column>
                        	
                        	<p:column 	filterBy="#{atendimento.dataUltAlteracao}" sortBy="#{atendimento.dataUltAlteracao}" 
                        				filterMatchMode="contains" headerText="Data última alteração" >
                            	<h:outputText value="#{relatorioAtendimentoMB.formatarData(atendimento.dataUltAlteracao)}" />
                        	</p:column>
                        	
                        	<p:column 	filterBy="#{atendimento.statusAgendamento.descricao}" sortBy="#{atendimento.statusAgendamento.descricao}" 
                        				filterMatchMode="contains" headerText="Status" >
                            	<h:outputText value="#{atendimento.statusAgendamento.descricao}" />
                        	</p:column>
                        	
                        	<p:column>
                            	<p:commandButton	icon="White fa fa-eye" oncomplete="PF('dlgRelAtendimento').show();" update=":lume:dlgRelAtendimento,:lume:dlgGerarRelatorio" width="5%">
                            		<f:setPropertyActionListener	value="#{atendimento}" target="#{relatorioAtendimentoMB.entity}" />
                            	</p:commandButton>
                        	</p:column>
                        	
                    	</p:dataTable>
                    </h:panelGroup>
                    
                    <p:dialog	id="dlgRelAtendimento" widgetVar="dlgRelAtendimento" header="Relatório do Agendamento" modal="true"
                    			onHide="PF('dlgRelAtendimento').toggleMaximize();" onShow="PF('dlgRelAtendimento').toggleMaximize();">
						
						<p:outputPanel>
							
							<p:fieldset		legend="Agendamento" id="tgAgendamento" toggleable="true" toggleSpeed="400"
                    						style="margin-top:20px;margin-bottom:10px">
                    						
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Agendado por"/>
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.agendador.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Data agendamento"/>
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.dataAgendamento)}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Status" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.statusAgendamento.descricao}"/>
                    		    	</h:panelGroup>                    		    
                    			</p:panelGrid>
                    		
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Origem" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.origemAgendamento.descricao}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Finalidade" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.finalidadeAgendamento.descricao}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Útilma alteração realizada por" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.profissionalUltAlteracao.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    			</p:panelGrid>
                    		
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Motivo" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.motivoStatusAgendamento.descricao}"/>
                    		    	</h:panelGroup>
                    		    	
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Situação do atendimento" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.verificarSituacaoAgendamento(relatorioAtendimentoMB.entity)}"/>
                    		    	</h:panelGroup>
                    		    	
                    		    	<h:panelGroup	rendered="#{relatorioAtendimentoMB.entity.excluido == status.SIM}">
                    		    		<h:outputText	value="Agendamento excluído por:" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.excluidoPorProfissional.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    		    	
                    			</p:panelGrid>
                    			
                    			
                    			
                    		</p:fieldset>

                    		<p:fieldset		legend="Dados do paciente" id="tgPaciente" toggleable="true" toggleSpeed="500"
                    						style="margin-top:20px;margin-bottom:10px;" action="printData();">
                    						
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Paciente"/>
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.paciente.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Profissional responsável" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.profissional.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Convênio" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.paciente.convenio.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    			</p:panelGrid>
                    		
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    				<h:panelGroup>
                    		    		<h:outputText	value="Titular"/>
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.paciente.titular.dadosBasico.nome}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Plano" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.paciente.plano.nome}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Data da última alteração" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.paciente.dataUltimaAlteracao)}"/>
                    		    	</h:panelGroup>
                    			</p:panelGrid>
                    		
                    		</p:fieldset>
                    	
                    		<p:fieldset		legend="Plano de tratamento" id="tgPlano" toggleable="true" toggleSpeed="400"
                    						style="margin-top:20px;margin-bottom:10px">
                    						
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Inicio do tratamento"/>
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.planoTratamento.inicio)}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Término do tramento" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.planoTratamento.fim)}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Valor total" />
                    		    		<p:inputText	readonly="true" value="R$ #{relatorioAtendimentoMB.entity.planoTratamento.valorTotal}"/>
                    		    	</h:panelGroup>
                    			</p:panelGrid>
                    		
                    			<p:panelGrid	columns="3" layout="grid" styleClass="ui-panelgrid-blank ui-fluid form-group">
                    				<h:panelGroup>
                    		    		<h:outputText	value="Valor total do desconto"/>
                    		    		<p:inputText	readonly="true" value="R$ #{relatorioAtendimentoMB.entity.planoTratamento.valorTotalDesconto}"/>
                    		    	</h:panelGroup>
                    		    
                    		    	<h:panelGroup>
                    		    		<h:outputText	value="Plano" />
                    		    		<p:inputText	readonly="true" value="#{relatorioAtendimentoMB.entity.paciente.plano.nome}"/>
                    		    	</h:panelGroup>                    		
                    			</p:panelGrid>
                    		
                    			<h:panelGroup>
                    					<p:dataTable	id="dtProcedimentos" widgetVar="dtProcedimentos" 
                    									value="#{relatorioAtendimentoMB.entity.planoTratamento.planoTratamentoProcedimentos}" 
                    									var="procedimento" rowKey="#{procedimento}" rows="5" paginator="true" paginatorPosition="bottom" headerText="Procedimento"
                    									reflow="true" emptyMessage="Nenhum registro encontrado" selectionMode="single" >
                    								
                    						<f:facet	name="procedimentos">Procedimentos</f:facet>
                    								
                    						<p:column 	filterBy="#{procedimento.procedimento.descricao}" 
                    									sortBy="#{procedimento.procedimento.descricao}" 
                        								filterMatchMode="contains" headerText="Descrição">
                            					<h:outputText value="#{procedimento.procedimento.descricao}" />
                        					</p:column>
                        							
                        					<p:column 	filterBy="#{procedimento.procedimento.valor}" 
                    									sortBy="#{procedimento.procedimento.valor}" 
                        								filterMatchMode="contains" headerText="Valor">
                            					<h:outputText value="#{procedimento.procedimento.valor}" />
                        					</p:column>
                    					
                    					</p:dataTable>
                    			</h:panelGroup>
                    		</p:fieldset>
						</p:outputPanel>
						
						<h:panelGroup	update=":lume:dlgGerarRelatorio" process=":lume:dlgGerarRelatorio">
        					<p:commandButton	value="Imprimir">
        						<p:printer target="relatorio" />
        					</p:commandButton>
        				</h:panelGroup>
						
                    </p:dialog>
                    
                    <p:dialog	id="dlgGerarRelatorio" widgetVar="dlgGerarRelatorio" header="Relatório" responsive="true" modal="true"
                				onHide="PF('dlgGerarRelatorio').toggleMaximize();" onShow="PF('dlgGerarRelatorio').toggleMaximize();">
                		
                		<p:panel>
                        	<p:outputPanel	id="relatorio">

                            	<h1	style="font-size: 20px !important;" align="center">
                                	<h:outputText value="RELATÓRIO" />
                            	</h1>
                            
                          		<div class="SeparatorFull"></div>
								
								<br />
								
                            	<h1 style="font-size: 18px !important;margin: 0;margin-top:10px;margin-bottom:10px;font-weight:bold;">
                                	<h:outputText value="#{relatorioAtendimentoMB.nomeClinica()}" />
                            	</h1>
                            	
                            	<h1 style="font-size: 14px !important;margin: 0;margin-top:-5px;margin-bottom:5px;">
                                	<h:outputText value="#{relatorioAtendimentoMB.telefoneClinica()}" />
                            	</h1>
								
								<br />
                            	
                            	<div class="SeparatorFull"></div>
                            	<br />
                            	
                            	<table	style="width: 100%" class="firstRowBold">
                            		
                            		<tr style="text-align: left; font-weight: bold; margin-top: 20px !important;">
                            		
                            			<h2 	style="text-align: left;font-size: 16px !important;margin: 0;margin-top:10px;
                            					margin-bottom:10px;font-weight:bold;">
                            				AGENDAMENTO
                            			</h2>
                            		
                            			<th>Agendado por:			</th>
                            			<th>Data do agendamento:	</th>
                            			<th>Status do agendamento:	</th>

                            		</tr>

                            		<tr	style="text-align: left;font-size: 14px !important;">
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.agendador.dadosBasico.nome}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.dataAgendamento)}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.statusAgendamento.descricao}" />
                            			</td>

                            		</tr>

                            		<tr style="text-align: left; font-weight: bold; margin-top: 20px !important;">

                            			<th>Origem do agendamento:		</th>
                            			<th>Finalidade do agendamento:	</th>
                            			<th>Última alteração realizada por:	</th>

                            		</tr>
                            		
                            		<tr	style="text-align: left;font-size: 14px !important;">
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.origemAgendamento.descricao}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.finalidadeAgendamento.descricao}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.profissionalUltAlteracao.dadosBasico.nome}" />
                            			</td>

                            		</tr>
                            	</table>
                            	
                            	<div class="SeparatorFull" style="margin-bottom:40px !important;margin-top:40px !important;"></div>
                            	
                            	<table	style="width: 100%" class="firstRowBold">
                            		<tr style="text-align: left; font-weight: bold; margin-top: 20px !important;">
                            		
                            			<h2 	style="text-align: left;font-size: 16px !important;margin: 0;margin-top:10px;
                            					margin-bottom:10px;font-weight:bold;">
                            				DADOS PACIENTE
                            			</h2>
                            		
                            			<th>Paciente:</th>
                            			<th>Profissional responsável:</th>
                            			<th>Convênio:	</th>

                            		</tr>
                            		
                            		<tr	style="text-align: left;font-size: 14px !important;">
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.paciente.dadosBasico.nome}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.profissional.dadosBasico.nome}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.paciente.convenio.dadosBasico.nome}" />
                            			</td>

                            		</tr>
                            		
                            		<tr style="text-align: left; font-weight: bold; margin-top: 20px !important;">
                            		
                            			<th>Titular:</th>
                            			<th>Plano:	</th>
                            			<th>Data da última alteração:</th>

                            		</tr>
                            		
                            		<tr	style="text-align: left;font-size: 14px !important;">
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.paciente.titular.dadosBasico.nome}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.paciente.plano.nome}" />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.paciente.dataUltimaAlteracao)}" />
                            			</td>

                            		</tr>
                            	</table>
                            	
                            	<div class="SeparatorFull" style="margin-bottom:40px !important;margin-top:40px !important;"></div>
                            	
                            	<table	style="width: 100%" class="firstRowBold">
                            		<tr style="text-align: left; font-weight: normal;">
                            		
                            			<h2 	style="text-align: left;font-size: 16px !important;margin: 0;margin-top:10px;
                            					margin-bottom:10px;font-weight:bold;">
                            				PLANO DE TRATAMENTO
                            			</h2>
                            		
                            			<th>Início do tratamento:</th>
                            			<th>Término do tratamento:</th>
                            			<th>Valor total:	</th>

                            		</tr>
                            		
                            		<tr	style="text-align: left;font-size: 14px !important;">
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.planoTratamento.inicio)}" /><br />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.formatarData(relatorioAtendimentoMB.entity.planoTratamento.fim)}" /><br />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.planoTratamento.valorTotal}" /><br />
                            			</td>

                            		</tr>
                            		
                            		<tr style="text-align: left; font-weight: bold; margin-top: 20px !important;">
                            		
                            			<th>Valor total do desconto:</th>
                            			<th>Plano:	</th>

                            		</tr>
                            		
                            		<tr	style="text-align: left;font-size: 14px !important;">
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.planoTratamento.valorTotalDesconto}" /><br />
                            			</td>
                            			
                            			<td>
                            				<h:outputText	value="#{relatorioAtendimentoMB.entity.paciente.plano.nome}" /><br />
                            			</td>

                            		</tr>
                            		
                            	</table>

								<br />
                        	</p:outputPanel>
                        </p:panel>
                            	
                	</p:dialog>

                </div>
            </div>
        </div> 
        
        <script type="text/javascript">
      //<![CDATA[
			function handleDialogRequest(xhr, status, args) {
				console.debug('handleDialogRequest');
				console.debug(args);
				if (args.dlg == true) {
					PF('eventDialog').hide();
				} else {
					window.scrollTo(0, 0);
				}
			}
			//]]>
		</script>
        
    </ui:define>
</ui:composition>